FROM python:3.11-slim

LABEL maintainer="CodonSoup"
LABEL description="CodonSoup Client - Distributed Evolution"

WORKDIR /app

# Copy requirements
COPY requirements-client.txt .

# Install dependencies
RUN pip install --no-cache-dir -r requirements-client.txt

# Copy client code
COPY client/ ./client/

# Set working directory to client
WORKDIR /app/client

# Default command (can be overridden)
ENTRYPOINT ["python", "client.py"]
CMD ["--server=http://server:8080", "--generations=50"]
